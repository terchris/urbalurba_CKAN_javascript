const CKANData = [
{
    "help": "http://localhost/api/3/action/help_show?name=organization_list",
    "success": true,
    "result": [
        {
            "package_count": 0,
            "num_followers": 0,
            "contact_name": "",
            "id": "d3667f87-1c00-4e31-a8b7-b57412b4ce78",
            "users": [
                {
                    "email_hash": "7dd9ca69c40a926bd4f4ad16834b25b5",
                    "about": null,
                    "capacity": "admin",
                    "name": "terchris",
                    "created": "2018-04-03T20:36:36.374678",
                    "openid": null,
                    "sysadmin": true,
                    "activity_streams_email_notifications": false,
                    "state": "active",
                    "number_of_edits": 34,
                    "display_name": "terchris",
                    "fullname": null,
                    "id": "864bea2d-00aa-48b5-80c4-c1e5ee143bea",
                    "number_created_packages": 0
                },
                {
                    "email_hash": "ace0886cc633d694ab9fd1b38a68dfad",
                    "about": null,
                    "capacity": "member",
                    "name": "terje_frode",
                    "created": "2018-04-05T15:44:23.139408",
                    "openid": null,
                    "sysadmin": false,
                    "activity_streams_email_notifications": false,
                    "state": "active",
                    "number_of_edits": 0,
                    "display_name": "Frode Kjos",
                    "fullname": "Frode Kjos",
                    "id": "dd660fdc-bd59-4e9a-b223-54474bf6968c",
                    "number_created_packages": 0
                }
            ],
            "display_name": "Acando",
            "approval_status": "approved",
            "title": "Acando",
            "member": "yes",
            "state": "active",
            "type": "organization",
            "website": "https://www.acando.no/",
            "description": "Acando er et konsulentselskap som jobber med digitale transformasjoner i offentlig og private virksomheter. Vi forbedrer og effektiviserer virksomheter, prosesser og tjenester ved hjelp av IKT.",
            "main_adddress": "Tordenskiolds gate 8-10, 0160 OSLO",
            "contact_email": "",
            "organization_number": "979191138",
            "slogan": "Digitalt konsulentselskap",
            "name": "acando2",
            "created": "2018-04-05T14:00:49.935308",
            "organization_type": "private",
            "image_display_url": "http://urbalurba.no/dataset/27695b10-8987-42d4-87ce-e0a172293cd4/resource/258860d5-881f-455d-bae8-03216d6c9c5d/download/acando-400x200.png",
            "is_organization": true,
            "image_url": "http://urbalurba.no/dataset/27695b10-8987-42d4-87ce-e0a172293cd4/resource/258860d5-881f-455d-bae8-03216d6c9c5d/download/acando-400x200.png",
            "revision_id": "13c0d937-d09d-4709-9f95-34e389bfe8a5"
        },
        {
            "package_count": 0,
            "num_followers": 0,
            "type": "organization",
            "contact_name": "Vibeke Solheim",
            "id": "6d7276ad-8591-4063-b30b-27be23a287a4",
            "users": [
                {
                    "email_hash": "7dd9ca69c40a926bd4f4ad16834b25b5",
                    "about": null,
                    "capacity": "admin",
                    "name": "terchris",
                    "created": "2018-04-03T20:36:36.374678",
                    "openid": null,
                    "sysadmin": true,
                    "activity_streams_email_notifications": false,
                    "state": "active",
                    "number_of_edits": 34,
                    "display_name": "terchris",
                    "fullname": null,
                    "id": "864bea2d-00aa-48b5-80c4-c1e5ee143bea",
                    "number_created_packages": 0
                },
                {
                    "email_hash": "48736e4e153e4e88843ff3d4f87b0949",
                    "about": "Grunder i Smarte Byer Norge",
                    "capacity": "member",
                    "name": "terje",
                    "created": "2018-04-05T15:20:31.532878",
                    "openid": null,
                    "sysadmin": false,
                    "activity_streams_email_notifications": false,
                    "state": "active",
                    "number_of_edits": 0,
                    "display_name": "Terje Christensen",
                    "fullname": "Terje Christensen",
                    "id": "1385124a-5445-45f5-bc44-2ebf523510d2",
                    "number_created_packages": 0
                }
            ],
            "display_name": "Agenda Kaupang",
            "approval_status": "approved",
            "title": "Agenda Kaupang",
            "member": "yes",
            "state": "active",
            "contact_phone": "67575700",
            "website": "http://agendakaupang.no/",
            "description": "Agenda Kaupang er et norsk konsulentselskap. Vi tilbyr analyse, utredning og r\u00e5dgiving innen omr\u00e5dene ledelse, styring, \u00f8konomi og organisasjonsutvikling. Agenda Kaupangs kunder er prim\u00e6rt i offentlig sektor, samt blant bedrifter og organisasjoner i arbeidslivet.",
            "main_adddress": "Holtet 45, 1368 Stabekk",
            "contact_email": "firmapost@agendakaupang.no",
            "organization_number": "968938525",
            "slogan": "R\u00e5dgivere for offentlig sekto",
            "name": "agenda-kaupang",
            "created": "2018-04-05T00:29:43.008806",
            "organization_type": "private",
            "image_display_url": "http://urbalurba.no/dataset/27695b10-8987-42d4-87ce-e0a172293cd4/resource/1fae2284-d7b8-4b28-bb81-7f7a3f0ecee1/download/agenda_kaupang-400x200.png",
            "is_organization": true,
            "image_url": "http://urbalurba.no/dataset/27695b10-8987-42d4-87ce-e0a172293cd4/resource/1fae2284-d7b8-4b28-bb81-7f7a3f0ecee1/download/agenda_kaupang-400x200.png",
            "revision_id": "170aab9d-4661-4a87-afc8-1b5498b46371"
        },
        {
            "package_count": 0,
            "num_followers": 0,
            "contact_name": "Harald Jellum",
            "id": "0ee0a15f-820f-428a-ab88-ed5da07e15cd",
            "users": [
                {
                    "email_hash": "7dd9ca69c40a926bd4f4ad16834b25b5",
                    "about": null,
                    "capacity": "admin",
                    "name": "terchris",
                    "created": "2018-04-03T20:36:36.374678",
                    "openid": null,
                    "sysadmin": true,
                    "activity_streams_email_notifications": false,
                    "state": "active",
                    "number_of_edits": 34,
                    "display_name": "terchris",
                    "fullname": null,
                    "id": "864bea2d-00aa-48b5-80c4-c1e5ee143bea",
                    "number_created_packages": 0
                }
            ],
            "display_name": "AiSpot",
            "approval_status": "approved",
            "title": "AiSpot",
            "member": "yes",
            "state": "active",
            "type": "organization",
            "website": "https://aispot.no/",
            "description": "Aispot helps retail and destinations engage customers and increase loyalty. Enabling the concept of Future Shopping. Clients Simply connect to \u2013 and publish to their customers through a shared mobile platform utilizing beacons, QR, club, mobile Wallet and a range of ready-made services",
            "main_adddress": "Bryggegata 3, 0250 OSLO",
            "contact_email": "",
            "organization_number": "915939678",
            "slogan": "IoT og app for varehandel og reiseliv",
            "name": "aispot",
            "created": "2018-04-03T20:57:42.520966",
            "organization_type": "startup",
            "image_display_url": "http://urbalurba.no/dataset/27695b10-8987-42d4-87ce-e0a172293cd4/resource/419ecbe2-3432-47c2-936f-53a4e979b519/download/aispot-400x200.png",
            "is_organization": true,
            "image_url": "http://urbalurba.no/dataset/27695b10-8987-42d4-87ce-e0a172293cd4/resource/419ecbe2-3432-47c2-936f-53a4e979b519/download/aispot-400x200.png",
            "revision_id": "ef0db7d5-8ce7-44e2-bc65-e98b71feb982"
        },
        {
            "package_count": 0,
            "num_followers": 0,
            "type": "organization",
            "contact_name": "Wilfried Pimenta De Miranda",
            "id": "fb790b29-543a-4124-a9cb-5e4dbb948099",
            "users": [
                {
                    "email_hash": "7dd9ca69c40a926bd4f4ad16834b25b5",
                    "about": null,
                    "capacity": "admin",
                    "name": "terchris",
                    "created": "2018-04-03T20:36:36.374678",
                    "openid": null,
                    "sysadmin": true,
                    "activity_streams_email_notifications": false,
                    "state": "active",
                    "number_of_edits": 34,
                    "display_name": "terchris",
                    "fullname": null,
                    "id": "864bea2d-00aa-48b5-80c4-c1e5ee143bea",
                    "number_created_packages": 0
                }
            ],
            "display_name": "Alpha Venturi",
            "approval_status": "approved",
            "title": "Alpha Venturi",
            "member": "yes",
            "state": "active",
            "contact_phone": "92202918",
            "website": "http://www.alpha-venturi.com/",
            "description": "Alpha Venturi is a strategic innovation lab and venture launchpad for Impact. We harvest exponential technologies, explore disruptive business models and grow new ventures to shape a better tomorrow. We bring expertise in Blockchain and Distributed Ledger Technologies, Internet of Things (IoT), Internet of Me / MyData",
            "main_adddress": "\u00c5sterudsletta 101, 1344 HASLUM",
            "contact_email": "contact@alpha-venturi.com",
            "organization_number": "918035591",
            "slogan": "Akselerator og venture",
            "name": "alpha-venturi",
            "created": "2018-04-04T01:16:32.196650",
            "organization_type": "startup",
            "image_display_url": "http://urbalurba.no/dataset/27695b10-8987-42d4-87ce-e0a172293cd4/resource/bd2ef91f-18b9-418d-9c76-ee6f8b79bcd3/download/dummy-400x200.png",
            "is_organization": true,
            "image_url": "http://urbalurba.no/dataset/27695b10-8987-42d4-87ce-e0a172293cd4/resource/bd2ef91f-18b9-418d-9c76-ee6f8b79bcd3/download/dummy-400x200.png",
            "revision_id": "236f9cc5-3039-4c23-aa61-4895dd8c19f0"
        },
        {
            "package_count": 0,
            "num_followers": 0,
            "type": "organization",
            "contact_name": "",
            "id": "d9afd93f-e591-4525-ad32-8e4326ea020a",
            "users": [
                {
                    "email_hash": "7dd9ca69c40a926bd4f4ad16834b25b5",
                    "about": null,
                    "capacity": "admin",
                    "name": "terchris",
                    "created": "2018-04-03T20:36:36.374678",
                    "openid": null,
                    "sysadmin": true,
                    "activity_streams_email_notifications": false,
                    "state": "active",
                    "number_of_edits": 34,
                    "display_name": "terchris",
                    "fullname": null,
                    "id": "864bea2d-00aa-48b5-80c4-c1e5ee143bea",
                    "number_created_packages": 0
                }
            ],
            "display_name": "Atea",
            "approval_status": "approved",
            "title": "Atea",
            "member": "yes",
            "state": "active",
            "contact_phone": "22095000",
            "website": "htp://www.atea.no",
            "description": "Atea er r\u00e5dgivere for teknologiske l\u00f8sninger og bruker v\u00e5r kompetanse til \u00e5 forme et bedre Norge. I samarbeid med kunder og partnere utvikler vi l\u00f8sningene neste generasjon kan v\u00e6re stolte av.",
            "main_adddress": "Brynsalleen 2, 0667 Oslo, Norge",
            "contact_email": "",
            "organization_number": "976239997",
            "slogan": "Sammen digitaliserer vi Norge",
            "name": "atea",
            "created": "2018-04-05T01:54:16.676161",
            "organization_type": "private",
            "image_display_url": "http://urbalurba.no/dataset/27695b10-8987-42d4-87ce-e0a172293cd4/resource/34bac524-f39e-4b7a-a6d6-4ac01e630c2e/download/atea-400x200.png",
            "is_organization": true,
            "image_url": "http://urbalurba.no/dataset/27695b10-8987-42d4-87ce-e0a172293cd4/resource/34bac524-f39e-4b7a-a6d6-4ac01e630c2e/download/atea-400x200.png",
            "revision_id": "46650d15-7da7-4e52-aff3-de66041740ff"
        }
    ]
}  
  
  
];


const membersData = [
    {
        name: "Acando",
        orgType: "Company",
        slogan: "Digitalt konsulentselskap",
        website: "https://www.acando.no/",
        logoURL: "http://urbalurba.no/dataset/27695b10-8987-42d4-87ce-e0a172293cd4/resource/258860d5-881f-455d-bae8-03216d6c9c5d/download/acando-400x200.png",
        segments: ["Mobilitet", "Helse", "Digitalisering"],
        tags: ["IoT", "Rådgiving"],
        longTXT: "Acando er et konsulentselskap som jobber med digitale transformasjoner i offentlig og private virksomheter. Vi forbedrer og effektiviserer virksomheter, prosesser og tjenester ved hjelp av IKT.",
        contacts: [
            {
                contactName: "Frode Kjos",
                contactTitle: "Head of ITS and Smart Transportation",
                contactAvatarURL: "https://media.licdn.com/mpr/mpr/shrinknp_400_400/AAIA_wDGAAAAAQAAAAAAAAo5AAAAJDFjMjVlYzA5LTgzMjItNDhkOC04OGJiLWFhNDA4YmE3M2UzYg.jpg",
                contactLinkedinURL: "https://www.linkedin.com/in/frodekjos/"
            },
            {
                contactName: "Marianne Røgeberg",
                contactTitle: "Markedssjef",
                contactAvatarURL: "https://media.licdn.com/mpr/mpr/shrinknp_400_400/AAEAAQAAAAAAAAR5AAAAJGZiNDY0NzU4LTk0ODEtNDg2Zi1iNWQ5LTU4ZTY0NzJhNDg4Yw.jpg",
                contactLinkedinURL: "https://www.linkedin.com/in/mrogeberg/"
            }
        ]
    },
    {
        name: "Agenda Kaupang",
        orgType: "Company",
        slogan: "Rådgivere for offentlig sektor",
        website: "http://agendakaupang.no/",
        logoURL: "http://urbalurba.no/dataset/27695b10-8987-42d4-87ce-e0a172293cd4/resource/1fae2284-d7b8-4b28-bb81-7f7a3f0ecee1/download/agenda_kaupang-400x200.png",
        segments: ["Digitalisering"],
        tags: ["Rådgiving"],
        longTXT: " Agenda Kaupang er et norsk konsulentselskap. Vi tilbyr analyse, utredning og rådgiving innen områdene ledelse, styring, økonomi og organisasjonsutvikling. Agenda Kaupangs kunder er primært i offentlig sektor, samt blant bedrifter og organisasjoner i arbeidslivet.",
        contacts: [
            {
                contactName: "Gjermund Lanestedt",
                contactTitle: "Seniorrådgiver",
                contactAvatarURL: "https://media.licdn.com/mpr/mpr/shrinknp_400_400/AAEAAQAAAAAAAAlUAAAAJDlkMDA5MWFhLWZjZjEtNDM3Yy04M2UwLWJhYmJkM2FlNGRjMg.jpg",
                contactLinkedinURL: "https://www.linkedin.com/in/laneste/"
            },
            {
                contactName: "Inger Hegna",
                contactTitle: "Employee",
                contactAvatarURL: "https://media.licdn.com/mpr/mpr/shrinknp_400_400/p/4/000/165/146/042d86a.jpg",
                contactLinkedinURL: "https://www.linkedin.com/in/inger-hegna-40b8867/"
            },
            {
                contactName: "Bente Sagen",
                contactTitle: "Sekretær",
                contactAvatarURL: "https://media.licdn.com/mpr/mpr/shrinknp_400_400/AAEAAQAAAAAAAAZIAAAAJDRjNmY4OTBjLTY5ODUtNGNhZi1hZTJjLTNlM2IxZjJjNzdiMA.jpg",
                contactLinkedinURL: "https://www.linkedin.com/in/bente-sagen-4a73b0102/"
            }
        ]

    },
    {
        name: "AiSpot",
        orgType: "Startup",
        slogan: "IoT og app for varehandel og reiseliv",
        website: "https://aispot.no/",
        logoURL: "http://urbalurba.no/dataset/27695b10-8987-42d4-87ce-e0a172293cd4/resource/419ecbe2-3432-47c2-936f-53a4e979b519/download/aispot-400x200.png",
        segments: ["Mobilitet"],
        tags: ["Programvare"],
        longTXT: "Aispot helps retail and destinations engage customers and increase loyalty. Enabling the concept of Future Shopping. Clients Simply connect to – and publish to their customers through a shared mobile platform utilizing beacons, QR, club, mobile Wallet and a range of ready-made services",
        contacts: [
            {
                contactName: "Harald Jellum",
                contactTitle: "Gründer",
                contactAvatarURL: "https://media.licdn.com/mpr/mpr/shrinknp_400_400/AAMAAQDuAAgAAQAAAAAAABAkAAAAJGE1ZjIyZWM3LTg1NDItNGQ5Yy05MDVmLWVmM2FmMDc3NmVlYg.bin",
                contactLinkedinURL: "https://www.linkedin.com/in/grunderfabrikken/"
            }
        ]
        
    },
    {
        name: "Alpha Venturi",
        orgType: "Startup",
        slogan: "Akselerator og venture",
        website: "http://www.alpha-venturi.com/",
        logoURL: "http://urbalurba.no/dataset/27695b10-8987-42d4-87ce-e0a172293cd4/resource/bd2ef91f-18b9-418d-9c76-ee6f8b79bcd3/download/dummy-400x200.png",
        segments: ["Any"],
        tags: ["Investor", "Akselerator", "IoT"],
        longTXT: "Alpha Venturi is a strategic innovation lab and venture launchpad for Impact. We harvest exponential technologies, explore disruptive business models and grow new ventures to shape a better tomorrow. We bring expertise in Blockchain and Distributed Ledger Technologies, Internet of Things (IoT), Internet of Me / MyData",
        contacts: [
            {
                contactName: "Wilfried Pimenta De Miranda",
                contactTitle: "Founder and CEO",
                contactAvatarURL: "https://media.licdn.com/mpr/mpr/shrinknp_400_400/AAEAAQAAAAAAAAlcAAAAJGZhZTc4YzM4LTMxYWEtNDhkZS04ZWNkLTQyZjIyMzhlMDQyMA.jpg",
                contactLinkedinURL: "https://www.linkedin.com/in/wilfriedpimenta/"
            }
        ]
        
    }

];




function tags(tags) {
  return `
  ${tags.map(tag => ` ${tag} `).join("")}
`;
}


function segments(segments) {
  return `
  ${segments.map(segments => ` ${segments} `).join("")}
`;
}

/* Figuring out what icon to symbolize organisation type
Idon set https://linearicons.com/free
*/
function orgType(orgType) {
  
  const startupIcon = 'lnr-rocket';
  const defaultIcon = 'lnr-question-circle';
  const academiaIcon = 'lnr-graduation-hat';  
  const companyIcon = 'lnr-apartment';
  const govIcon = 'lnr-shirt';  /*TODO: find other */
  const cityIcon = 'lnr-dinner';  /*TODO: find other */  
  
  
  var icon = '';
  
  switch (orgType) {
  case 'Startup':
    icon = startupIcon;
    break;
  case 'Academia':
    icon = academiaIcon;
    break;      
  case 'Company':
    icon = companyIcon;
    break;   
  case 'Government':
    icon = govIcon;
    break;   
  case 'Kommune':
    icon = cityIcon;
    break;   
      
  default: 
    icon = defaultIcon;  
}


  
  return `
<!--- Org type icon start -->                  
<div class="card-img-overlay ">
  <a href="" ><span class="lnr ${icon}" data-toggle="tooltip" data-placement="bottom" title="${orgType}"></span></a>
</div>
<!--- Org type iCon end -->                                 `;
}   




function avatars(contacts) {
    return `
  <!-- Start avatars -->
  <ul class="avatars">
    ${contacts.map(contacts => ` 
    <li>
        <a href="${contacts.contactLinkedinURL}" data-toggle="tooltip" data-placement="top" title="${contacts.contactName} - ${contacts.contactTitle}">
            <img src="${contacts.contactAvatarURL}" onError="this.onerror=null;this.src='${avatarImage}';">
        </a>
    </li>
  
    `).join("")}
  </ul>      
  <!-- stop avatars --> 
`;
}




function memberTemplate(member) {
  return `
<div class="col-lg-3 col-md-4 col-sm-6">
<div class="card">

  ${member.orgType ? orgType(member.orgType) : ""}

    <img class="card-img-top img-fluid" src="${member.logoURL}"
        alt="${member.name}">


        ${member.contacts ? avatars(member.contacts) : ""}

    <div class="card-body">
        <h4 class="card-title">${member.name}</h4>
        <h6 class="card-subtitle mb-2 text-muted">${member.slogan}</h6>
        <p class="card-text">${member.longTXT}</p>
    </div>
    <small class="text-muted">
      Tags:
      ${member.tags ? tags(member.tags) : ""}
    </small>
    <small class="text-muted">
      Segments:
      ${member.segments ? segments(member.segments) : ""}
    </small>

    <div class="card-footer text-muted">
        <a href="#" class="card-link">Card link</a>
        <a href="#" class="card-link">Another link</a>
    </div>
</div>
<!-- end card -->
</div>
  `;
}


function myButton() {
        document.getElementById("SBN").style.color = "blue";
}



   $().ready(function(){
        $('[rel="tooltip"]').tooltip();

    });

    function rotateCard(btn){
        var $card = $(btn).closest('.card-container');
                document.getElementById("SBN").style.color = "blue";
        if($card.hasClass('hover')){
            $card.removeClass('hover');
        } else {
            $card.addClass('hover');
        }
    }



var avatarImage="http://icons.iconarchive.com/icons/designbolts/free-male-avatars/128/Male-Avatar-Bowler-Hat-icon.png";


document.getElementById("numMembers").innerHTML = 
`
${membersData.length} 
`;



document.getElementById("app").innerHTML = `

 ${membersData.map(memberTemplate).join("")}

`;

$(function () {
  $('[data-toggle="tooltip"]').tooltip()
})





